<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>doem23</title>
    <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
</head>

<body>
    <div class="nav-list">
      <div class="list-item">
        <div>静兰小程序</div>
        <wx-open-launch-weapp appid="wx4be09d2dee459abb" id="launch-btn">
            <template>
                静兰小程序
            </template>
        </wx-open-launch-weapp>
      </div>
      <div class="list-item">
        <div>基础社区小程序</div>
        <wx-open-launch-weapp appid="wx4be09d2dee459abb">
            <template>
                基础社区小程序
            </template>
        </wx-open-launch-weapp>
      </div>
    </div>
    <wx-open-launch-weapp id="launch-btn" appid="wx4be09d2dee459abb" path="pages/cardIndex/cardIndex">
        <!-- replace -->
        <template style="display: block;">
            <button style="width: 200px; height: 45px; text-align: center; font-size: 17px; display: block; margin: 0 auto; padding: 8px 24px; border: none; border-radius: 4px; background-color: #07c160; color:#fff;">打开小程序234</button>
        </template>
    </wx-open-launch-weapp>
    <script>
        var btn = document.getElementById('launch-btn');
        btn.addEventListener('launch', function (e) {
            console.log('success');
        });
        btn.addEventListener('error', function (e) {
            console.log('fail', e.detail);
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
        }
        .nav-list {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0 10px;
            box-sizing: border-box;
            width: 100vw;
            height: 100vh;
        }
        .list-item {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            width: 100%;
            height: 80px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0,0,0,.1);
            font-size: 16px;
            font-weight: bold;
        }
    </style>
    <script src="jquery-1.12.4.js"></script>
    <script>
                wx.config({
                    beta: true,
                    appId: 'wx969c0c86b81002c4',  // 必填，公众号的唯一标识
                    debug: true,    // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印
                    timestamp: '1681108311',  // 必填，生成签名的时间戳
                    nonceStr: 'xxwf6rfvz',     // 必填，生成签名的随机串 
                    signature: '0f1d634f972e0cacd5d18b18a96b12e6fcefd82d',     // 必填，签名
                    jsApiList: [
                        'scanQRCode',
                        'onMenuShareQZone',
                        'onMenuShareWeibo',
                        'onMenuShareQQ',
                        'chooseImage',
                        'previewImage'
                    ],
                    openTagList: ['wx-open-launch-weapp'] // 获取开放标签权限
                })

                wx.ready(function () {
                    // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中
                    console.log('ready')
                    var btn = document.getElementById('launch-btn');
                    btn.addEventListener('launch', function (e) {
                        console.log('success');
                    });
                    btn.addEventListener('error', function (e) {
                        console.log('fail', e.detail);
                    })
                });
                wx.error(function (err) {
                    console.log('失败err', err);
                    // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名
                });
        // $.ajax({
        //     url: 'https://health.dev.zoenet.cn/10082/pub/org/open/getOfficialAccount',   // 获取微信签名登配置的请求地址
        //     type: 'post',
        //     params: {
        //         appId: 'appId_LZSZYYY_1',
        //         securitKey: '24dacdf0a66f43058db683c617542409',
        //         securitIv: '4piq4ubzu48wu36t',
        //         orgCode: 'LZSZYYY_1'
        //     },
        //     success: (res) => {
        //         console.log('res88888888888888888', res)
        //         wx.config({
        //             beta: true,
        //             appId: 'wx2421b1c4370ec43b',  // 必填，公众号的唯一标识
        //             debug: true,    // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印
        //             timestamp: '1395712654',  // 必填，生成签名的时间戳
        //             nonceStr: 'e61463f8efa94090b1f366cccfbbb444',     // 必填，生成签名的随机串
        //             package: "prepay_id=u802345jgfjsdfgsdg888",
		    //     	      signType: "MD5", //微信签名方式：     
        //             signature: '70EA570631E4BB79628FBCA90534C63FF7FADD89',     // 必填，签名
        //             jsApiList: [
        //                 'scanQRCode',
        //                 'onMenuShareQZone',
        //                 'onMenuShareWeibo',
        //                 'onMenuShareQQ',
        //                 'chooseImage',
        //                 'previewImage'
        //             ],
        //             openTagList: ['wx-open-launch-weapp'] // 获取开放标签权限
        //         })

        //         wx.ready(function () {
        //             // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中
        //             console.log('ready')
        //             var btn = document.getElementById('launch-btn');
        //             btn.addEventListener('launch', function (e) {
        //                 console.log('success');
        //             });
        //             btn.addEventListener('error', function (e) {
        //                 console.log('fail', e.detail);
        //             })
        //         });
        //         wx.error(function (err) {
        //             console.log('失败err', err);
        //             // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名
        //         });
        //     },
        //     error: (err) => {
        //         console.log('err', err)
        //     }
        // })
    </script>
</body>

</html>